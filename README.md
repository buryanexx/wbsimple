# WB Simple - Образовательная платформа для Wildberries

WB Simple - это образовательная платформа, которая помогает пользователям научиться зарабатывать на Wildberries. Приложение разработано как Telegram Web App и предоставляет доступ к обучающим материалам, видеоурокам и полезным шаблонам.

## Технологии

### Фронтенд
- React
- TypeScript
- Vite
- TailwindCSS
- Telegram Web App API

### Бэкенд
- Node.js
- Express
- Sequelize (PostgreSQL)
- JWT для аутентификации

## Структура проекта

```
wbsimple/
├── src/                  # Исходный код фронтенда
│   ├── components/       # React компоненты
│   ├── hooks/            # Пользовательские хуки
│   ├── pages/            # Страницы приложения
│   ├── data/             # Данные для приложения
│   └── ...
├── server/               # Исходный код бэкенда
│   ├── src/              # Исходный код сервера
│   │   ├── controllers/  # Контроллеры
│   │   ├── models/       # Модели данных
│   │   ├── routes/       # Маршруты API
│   │   ├── services/     # Сервисы
│   │   ├── middleware/   # Промежуточное ПО
│   │   ├── scripts/      # Скрипты
│   │   └── ...
│   └── ...
└── ...
```

## Функциональность

- Аутентификация через Telegram
- Доступ к обучающим модулям и урокам
- Просмотр видеоуроков с защищенным доступом
- Отслеживание прогресса обучения
- Подписка на премиум-контент
- Доступ к полезным шаблонам и материалам

## Бизнес-модель

- Первый модуль бесплатный для всех пользователей
- Доступ к остальным модулям по подписке
- Возможность приобретения отдельных модулей

## Работа с видео

### Загрузка видео на сервер

Для загрузки видео на сервер используйте скрипт `uploadVideo.ts`:

```bash
# Перейдите в директорию сервера
cd server

# Запустите скрипт
npx ts-node src/scripts/uploadVideo.ts
```

Скрипт предоставляет интерактивный интерфейс для:
1. Загрузки видео (с автоматической генерацией ID или указанием своего ID)
2. Удаления видео
3. Просмотра списка загруженных видео

### Структура хранения видео

Видео хранятся в директории `server/videos/` с именами файлов в формате `{videoId}.mp4`.

### Защищенный доступ к видео

Видео доступны только авторизованным пользователям через защищенные URL, которые:
- Генерируются на сервере
- Содержат JWT токен с ограниченным сроком действия
- Привязаны к конкретному пользователю

### Отслеживание прогресса просмотра

Приложение отслеживает прогресс просмотра видео:
- Сохраняет позицию просмотра
- Отмечает уроки как завершенные при просмотре более 90% видео
- Обновляет общий прогресс пользователя

## Запуск проекта

### Фронтенд

```bash
# Установка зависимостей
npm install

# Запуск в режиме разработки
npm run dev

# Сборка для продакшена
npm run build
```

### Бэкенд

```bash
# Перейдите в директорию сервера
cd server

# Установка зависимостей
npm install

# Запуск в режиме разработки
npm run dev

# Сборка для продакшена
npm run build
```

## Переменные окружения

### Фронтенд (.env)

```
VITE_API_URL=http://localhost:5005
VITE_TELEGRAM_BOT_USERNAME=wb_simple_bot
```

### Бэкенд (.env)

```
PORT=5005
NODE_ENV=development
DATABASE_URL=postgres://username:password@localhost:5432/wbsimple
JWT_SECRET=your_jwt_secret_key
TELEGRAM_BOT_TOKEN=your_telegram_bot_token
VIDEOS_DIR=./videos
VIDEO_BASE_URL=http://localhost:5005/videos
```

## Деплой

### Фронтенд

Фронтенд развернут на Vercel.

### Бэкенд

Бэкенд развернут на Timeweb.

## Лицензия

Все права защищены. Несанкционированное использование, копирование или распространение запрещено.
